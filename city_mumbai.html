<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>city Mubmai Hotels</title>
    <link rel="stylesheet" href="./styles/details.css" />
  </head>
  <body>
    <div id="ss_container">
      <div id="ss_city_box_1"></div>
      <div id="ss_city_box_2"></div>
    </div>
  </body>
</html>
<script>
  let api = `http://localhost:3000/hotel?city=Mumbai`;
  console.log(api);

  let getdata = async () => {
    let res = await fetch(api);
    res = await res.json();
    console.log(res);
    renderDom(res);
  };
  getdata();

  let card = ({
    image,
    name,
    price,
    type,
    city,
    rating,
    id,
    review,
    strikeprice,
  }) => {
    //creating Elements for appending Data
    let div = document.createElement("div");

    let image1 = document.createElement("img");
    let ss_one = document.createElement("div");
    let ss_two = document.createElement("div");
    let ss_three = document.createElement("div");
    let name1 = document.createElement("p");
    let price1 = document.createElement("p");
    let type1 = document.createElement("p");
    let city1 = document.createElement("p");
    let rating1 = document.createElement("p");
    let review1 = document.createElement("p");
    let strikeprice1 = document.createElement("p");
    let deal = document.createElement("p");
    let availability = document.createElement("p");

    //classname's for styling
    div.className = "ss_item";
    ss_one.className = "ss_one-item";
    ss_two.className = "ss_two-item";
    ss_three.className = "ss_three-item";
    name1.className = "ss_name-item";
    price1.className = "ss_price-item";
    type1.className = "ss_type-item";
    city1.className = "ss_city-item";
    rating1.className = "ss_rating-item";
    review1.className = "ss_review1-item";
    strikeprice1.className = "ss_strikeprice1";
    deal.className = "ss_deal";
    availability.className = "ss_availability";

    image1.src = image;

    name1.innerHTML = name;
    price1.innerHTML = `â‚¹ ${price}`;
    type1.innerHTML = type;
    city1.innerHTML = `ðŸ“Œ${city}`;
    rating1.innerHTML = rating;
    review1.innerHTML = review;
    strikeprice1.innerHTML = `â‚¹ ${strikeprice}`;
    deal.innerText = "Limited-time Deal";
    availability.innerText = "See availability >";

    // let deleteBtn = document.createElement("button");
    // deleteBtn.innerText = "Remove";
    // deleteBtn.className = "ss_remove_item";
    // deleteBtn.onclick = () => {
    //   deleteProduct(id);
    // };

    // let updateBtn = document.createElement("button");
    // updateBtn.innerText = "Update Price";
    // updateBtn.className = "ss_update_price";
    // updateBtn.onclick = () => {
    //   updateProduct(id);
    // };

    ss_one.append(image1);
    ss_two.append(name1, rating1, city1, deal, type1);
    ss_three.append(
      "Review Score",
      review1,
      strikeprice1,
      price1,
      availability
    );

    div.append(ss_one, ss_two, ss_three);

    return div;
  };
  let renderDom = (data) => {
    let cont = document.getElementById("ss_city_box_2");
    cont.innerHTML = null;

    data.forEach((el) => {
      let product = card(el);
      cont.append(product);
    });
  };
</script>
